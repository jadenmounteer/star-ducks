<h1>Mission Launch</h1>

<div class="entrance-code-container">
  <span>Entrance Code: {{ entranceCode() }}</span>
</div>

<div class="player-list">
  <h2>Crew Members</h2>
  @for (player of players(); track player.playerId) {
  <div class="player-item">
    <div class="player-info">
      <span class="player-name">{{ player.playerName }}</span>
      <span class="player-status" [class.online]="player.isOnline">
        {{ player.isOnline ? "Online" : "Offline" }}
      </span>
    </div>
    <div class="role-selection">
      @for (role of roles; track role) {
      <button
        class="role-button"
        [class.selected]="isRoleSelected(player, role)"
        [disabled]="player.playerId !== playerSessionService.getPlayerId()"
        (click)="toggleRole(player, role)"
      >
        {{ role }}
      </button>
      }
    </div>
  </div>
  }
</div>

<div class="missions-section">
  <h2>Select a mission</h2>
  <app-dropdown #dropdown>
    <button dropdown-button (click)="dropdown.toggleDropdown()">
      {{ selectedMission }}
    </button>
    <span dropdown-item>Rebels on Kolath</span>
  </app-dropdown>
</div>

<button>Launch Mission</button>
